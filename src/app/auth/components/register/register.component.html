<section class="vh-100">
  <div class="auth-background h-100">
    <div class="text d-flex justify-content-center align-items-center h-100">
      <div class="login w-100">
        <div class="logo my-0">
          <img src="../../../../assets/img/PMSLogo.svg" alt="logo" />
        </div>
        <div class="d-flex justify-content-center align-items-center">
          <div class="form col-md-6 w-75">
            <p>Welcome to PMS</p>
            <h1><span class="first-letter">C</span>reate New Account</h1>
            <div class="mt-0">
              <form [formGroup]="registerForm" (ngSubmit)="onSubmit()">
                <div class="image-upload-wrapper">
                  <ngx-file-drop
                    (onFileDrop)="dropped($event)"
                    accept="image/*"
                    [multiple]="false"
                    dropZoneLabel=""
                    dropZoneClassName="hidden-dropzone"
                    [showBrowseBtn]="true"
                    browseBtnClassName="custom-browse-btn"
                  >
                    <ng-template ngx-file-drop-content-tmp let-openFileSelector="openFileSelector">
                      <div class="upload-area" (click)="openFileSelector()">
                        <ng-container *ngIf="!imagePreview">
                          <p class="upload mt-0">Upload Image</p>
                        </ng-container>
                
                        <ng-container *ngIf="imagePreview">
                          <div class="image-container">
                            <img [src]="imagePreview" alt="Preview" class="img-preview">
                            <i class="fa fa-close delete-icon" *ngIf="imagePreview" (click)="deleteImage()"></i>
                          </div>
                        </ng-container>
                      </div>
                    </ng-template>
                  </ngx-file-drop>
                </div>
                <div class="row">
                  <div class="col-md-6">
                    <div class="mt-3">
                      <app-custom-form-field
                        [label]="'User Name'"
                        [placeholder]="'Enter your Name'"
                        [control]="getControl('userName')"
                        [type]="'text'"
                      ></app-custom-form-field>
                      <!-- <small *ngIf="registerForm.controls.userName.invalid && registerForm.controls.userName.touched" class="text-danger">Name is required</small> -->
                    </div>
                    <div class="mt-3">
                      <app-custom-form-field
                        [label]="'Country'"
                        [placeholder]="'Enter your Country'"
                        [control]="getControl('country')"
                        [type]="'country'"
                      ></app-custom-form-field>
                    </div>
                    <div class="mt-3">
                      <app-custom-form-field
                        [label]="'Password'"
                        [placeholder]="'Enter your password'"
                        [control]="getControl('password')"
                        [type]="'password'"
                      ></app-custom-form-field>
                      <!-- <small *ngIf="registerForm.controls.password.invalid && registerForm.controls.password.touched" class="text-danger">Password must be at least 6 characters</small> -->
                    </div>
                  </div>

                  <div class="col-md-6">
                    <div class="mt-3">
                      <app-custom-form-field
                        [label]="'E-mail'"
                        [placeholder]="'Enter your E-mail'"
                        [control]="getControl('email')"
                      ></app-custom-form-field>
                      <!-- <small *ngIf="registerForm.controls.email.invalid && registerForm.controls.email.touched" class="text-danger">Enter a valid email</small> -->
                    </div>
                    <div class="mt-3">
                      <app-custom-form-field
                        [label]="'Phone Number'"
                        [placeholder]="'Phone Number'"
                        [control]="getControl('phoneNumber')"
                        [type]="'number'"
                      ></app-custom-form-field>
                    </div>
                    <div class="mt-3">
                      <app-custom-form-field
                        [label]="'Confirm Password'"
                        [placeholder]="'Confirm New Password'"
                        [control]="getControl('confirmPassword')"
                        [type]="'password'"
                      ></app-custom-form-field>
                      <!-- <small *ngIf="registerForm.controls.confirmPassword.invalid && registerForm.controls.confirmPassword.touched" class="text-danger">Passwords do not match</small> -->
                    </div>
                  </div>
                </div>
                <div class="buttom text-center">
                  <button
                    [disabled]="!registerForm.valid"
                    [ngClass]="{ disabled: !registerForm.valid }"
                    type="submit"
                    class="main-btn p-3 mt-3 rounded-pill w-75"
                  >
                    Save
                  </button>
                </div>
              </form>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="left h-100">
      <img
        class="position-absolute left__img"
        src="../../../../assets/img/Vector 49.png"
        alt=""
      />
      <img
        class="position-absolute right__img"
        src="../../../../assets/img/Vector 48.png"
        alt=""
      />
    </div>
  </div>
</section>
